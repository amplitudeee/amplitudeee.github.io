<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
  <title>System Development Practice Test</title>
  <style>
    /* Extravagant theme: gradients, glass cards, animated accents */
    :root{
      --bg-start:#0f2027;
      --bg-mid:#203a43;
      --bg-end:#2c5364;
      --card:#ffffff22;
      --accent1:#ff6b6b;
      --accent2:#f7b733;
      --accent3:#8e44ad;
      --glass-blur:8px;
    }

    html,body{height:100%;}
    body {
      font-family: 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
      margin: 0;
      min-height:100%;
      /* layered gradients: make them cover, not tile, and fixed during scroll */
      background: radial-gradient(1200px 600px at 10% 10%, rgba(255,107,107,0.08), transparent 10%),
                  linear-gradient(135deg, var(--bg-start), var(--bg-mid) 40%, var(--bg-end));
      background-repeat: no-repeat, no-repeat;
      background-attachment: fixed, fixed;
      background-size: cover, cover;
      background-position: center center, center center;
      color: #fbfbff;
      display:flex;
      justify-content:center;
      padding:40px 24px;
    }

    /* Page card */
    .page {
      position: absolute;
      z-index: 2;
      width: min(1100px, 96%);
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border-radius: 18px;
      padding: 28px;
      box-shadow: 0 10px 30px rgba(2,6,23,0.6), inset 0 1px 0 rgba(255,255,255,0.02);
      backdrop-filter: blur(var(--glass-blur));
      border: 1px solid rgba(255,255,255,0.04);
      overflow: visible;
      left: 50%;
      transform: translateX(-50%);
    }

    /* Ensure page children sit above backdrop */
    .page > * { position: relative; z-index: 2; }

    h1, h2 { color: #fff; text-shadow: 0 2px 12px rgba(0,0,0,0.6); }

    .toggle-bar {
      display:flex;
      gap:12px;
      margin-bottom:22px;
      align-items:center;
    }

    /* Fancy buttons */
    button {
      border: none;
      padding: 10px 14px;
      border-radius: 12px;
      cursor: pointer;
      color: #0b0b0b;
      font-weight: 700;
      letter-spacing: .3px;
      transition: transform .18s ease, box-shadow .18s ease;
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
      background: linear-gradient(90deg,var(--accent1),var(--accent2));
    }

    button#btnShowB { background: linear-gradient(90deg,#6a11cb,#2575fc); color:#fff; }
    /* removed btnToggleMode style (button removed) */

    button:hover{ transform: translateY(-3px) scale(1.02); box-shadow: 0 10px 28px rgba(0,0,0,0.45); }
    button:disabled{ opacity:.5; cursor:not-allowed; transform:none; box-shadow:none; }

    /* Questions as glass cards */
    .question {
      margin-bottom: 16px;
      padding: 16px 18px;
      border-radius: 14px;
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.03);
      box-shadow: 0 8px 20px rgba(12,20,30,0.45);
      transition: transform .18s ease, box-shadow .18s ease;
    }

    .question:hover{ transform: translateY(-6px); box-shadow: 0 18px 40px rgba(12,20,30,0.55); }

    .question p{ margin:0 0 10px; color:#f6f7fb; font-weight:600; }

    input[type="radio"], input[type="checkbox"]{ accent-color: var(--accent3); transform: scale(1.08); margin-right:6px; }

    .answer {
      margin-top: 10px;
      font-weight: 800;
      color: #fff;
      padding: 12px 14px;
      border-radius: 10px;
      display:inline-block;
      box-shadow: 0 6px 18px rgba(0,0,0,0.5);
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      border-left: 4px solid #f093fb;
    }

    .show-answer-btn {
      margin-top: 8px;
      margin-left: auto;
      margin-right: auto;
      padding: 6px 12px;
      border: none;
      border-radius: 8px;
      background: linear-gradient(90deg, #3498db, #2980b9);
      color: #fff;
      font-weight: 600;
      font-size: 12px;
      cursor: pointer;
      transition: transform .18s ease, box-shadow .18s ease;
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
      display: block;
      width: 50%;
    }

    .show-answer-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(0,0,0,0.4);
    }

    .show-answer-btn:active {
      transform: translateY(0);
    }

    .correct { 
      background: linear-gradient(135deg, #2ecc71 0%, #27ae60 100%);
      color: #041a08;
      border-left: 4px solid #1abc9c;
    }
    .incorrect { 
      background: linear-gradient(135deg, #ff9a9e 0%, #ff6b6b 100%);
      color: #2b0606;
      border-left: 4px solid #e74c3c;
    }

    .hidden { display:none !important; }

    /* Dark mode tweaks */
    .dark-mode { filter: brightness(.96) saturate(.9); }

    /* Responsive tweaks */
    @media (max-width:700px){
      html, body { height: auto; }
      body { padding: 20px 12px; }
      .page { 
        position: absolute;
        width: 100%;
        padding: 16px;
        top: auto;
        left: 0;
        transform: none;
      }
      .card-backdrop {
        position: absolute;
        left: 0;
        width: 100%;
        transform: none;
      }
      .toggle-bar { 
        flex-direction: column;
        gap: 8px;
        margin-bottom: 16px;
      }
      button { 
        width: 100%;
        padding: 12px 10px;
        font-size: 14px;
      }
      .question {
        margin-bottom: 12px;
        padding: 12px 14px;
      }
      .question p {
        font-size: 14px;
        margin: 0 0 8px;
      }
      .answer {
        font-size: 13px;
        padding: 6px 8px;
        margin-top: 8px;
      }
      .form-actions {
        flex-direction: column;
        gap: 8px;
        margin-top: 16px;
      }
      h2 { font-size: 18px; }
      input[type="text"] { font-size: 14px; }
      label { 
        display: block;
        margin-bottom: 6px;
        font-size: 13px;
      }
    }

    /* Form actions (submit/reset) match top toggle spacing */
    .form-actions {
      display:flex;
      gap:12px; /* same gap as .toggle-bar */
      margin-top:22px;
      align-items:center;
      justify-content:flex-start;
      position: relative;
      z-index: 10;
    }
    .form-actions button {
      position: relative;
      z-index: 11;
    }

    /* Stylish progress bar */
    .progress { display:flex; align-items:center; gap:10px; margin: 8px 0 18px; }
    .progress-track { flex:1; height:10px; border-radius:999px; background: rgba(255,255,255,0.12); box-shadow: inset 0 1px 2px rgba(0,0,0,0.3); overflow:hidden; }
    .progress-fill { height:100%; width:0%; background: linear-gradient(90deg,#6a11cb,#2575fc); border-radius:999px; box-shadow: 0 0 12px rgba(37,117,252,0.6); transition: width .3s ease; }
    .progress-text { min-width:60px; font-weight:700; color:#eaf2ff; text-shadow: 0 1px 6px rgba(0,0,0,0.4); }

    /* Animated accents */
    .accents{ position:fixed; inset:0; pointer-events:none; overflow:visible; z-index:0; }
    .blob{
      position:absolute;
      width:260px; height:260px; border-radius:50%;
      filter: blur(40px) saturate(130%);
      opacity:0.55; mix-blend-mode:screen; transform: translate3d(0,0,0);
      animation: floaty 8s ease-in-out infinite;
    }
    .blob.b1{ left:6%; top:8%; background: radial-gradient(circle at 30% 30%, rgba(255,107,107,0.95), rgba(247,183,51,0.6)); animation-duration:10s; }
    .blob.b2{ right:8%; top:18%; width:320px;height:320px; background: radial-gradient(circle at 20% 20%, rgba(106,17,203,0.9), rgba(37,117,252,0.55)); animation-duration:12s; }
    .blob.b3{ left:20%; bottom:6%; width:200px;height:200px; background: radial-gradient(circle at 30% 30%, rgba(46,204,113,0.9), rgba(39,174,96,0.4)); animation-duration:9s; }

    @keyframes floaty{
      0%{ transform: translateY(0) scale(1) rotate(0deg); }
      50%{ transform: translateY(-18px) scale(1.06) rotate(6deg); }
      100%{ transform: translateY(0) scale(1) rotate(0deg); }
    }

    /* Shimmer for page heading */
    .shimmer {
      position:relative; overflow:hidden; display:inline-block;
    }
    .shimmer::after{
      content:''; position:absolute; top:0; left:-60%; width:40%; height:100%;
      background: linear-gradient(120deg, rgba(255,255,255,0), rgba(255,255,255,0.28), rgba(255,255,255,0));
      transform: skewX(-18deg);
      animation: shimmer 3.6s linear infinite;
      mix-blend-mode: overlay; pointer-events:none;
    }
    @keyframes shimmer{ 0%{ left:-60%; } 100%{ left:120%; } }

    /* Full-height translucent backdrop behind the page card (positioned by JS) */
    .card-backdrop{
      border-radius:18px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      box-shadow: 0 10px 30px rgba(2,6,23,0.45);
      z-index:1; 
      pointer-events:none;
      backdrop-filter: blur(var(--glass-blur));
      border: 1px solid rgba(255,255,255,0.03);
    }

    /* Results Page Styling */
    .results-summary {
      text-align: center;
      margin: 24px 0;
      padding: 24px;
      background: linear-gradient(180deg, rgba(255,255,255,0.04), rgba(255,255,255,0.02));
      border-radius: 14px;
      border: 1px solid rgba(255,255,255,0.05);
    }
    .score-display {
      display: flex;
      justify-content: center;
      align-items: center;
      gap: 20px;
      margin-bottom: 16px;
    }
    .score-number {
      font-size: 48px;
      font-weight: 800;
      color: #fff;
      text-shadow: 0 2px 12px rgba(0,0,0,0.6);
    }
    .score-percentage {
      font-size: 36px;
      font-weight: 700;
      color: #6a11cb;
      text-shadow: 0 2px 8px rgba(106,17,203,0.4);
    }
    .results-message {
      font-size: 24px;
      font-weight: 600;
      margin-top: 12px;
    }
    .results-details {
      margin: 20px 0;
    }
    .results-details h3 {
      color: #fff;
      margin-bottom: 16px;
      text-shadow: 0 2px 8px rgba(0,0,0,0.5);
    }
    .result-item {
      margin-bottom: 16px;
      padding: 14px 16px;
      border-radius: 12px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.04);
      box-shadow: 0 4px 12px rgba(0,0,0,0.3);
    }
    .result-item.correct {
      border-left: 4px solid #2ecc71;
    }
    .result-item.incorrect {
      border-left: 4px solid #e74c3c;
    }
    .result-header {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 8px;
    }
    .result-icon {
      font-size: 20px;
      font-weight: 800;
    }
    .result-item.correct .result-icon {
      color: #2ecc71;
    }
    .result-item.incorrect .result-icon {
      color: #e74c3c;
    }
    .result-num {
      font-weight: 700;
      color: #aaa;
    }
    .result-question {
      color: #f6f7fb;
      margin-bottom: 8px;
      font-weight: 600;
    }
    .result-answer, .result-correct {
      color: #ddd;
      margin: 4px 0;
      font-size: 14px;
    }
    .result-answer strong, .result-correct strong {
      color: #fff;
    }
    .result-explanation {
      margin-top: 8px;
      padding: 8px 12px;
      background: rgba(106,17,203,0.15);
      border-radius: 8px;
      color: #d4d4ff;
      font-size: 13px;
      font-style: italic;
    }
  </style>
</head>
<body>
  <div class="accents" aria-hidden="true">
    <span class="blob b1"></span>
    <span class="blob b2"></span>
    <span class="blob b3"></span>
  </div>
  <div class="card-backdrop" aria-hidden="true"></div>
  <div class="page">
  <div class="toggle-bar">
    <button id="btnShowA">Show Test A</button>
    <button id="btnShowB">Show Test B</button>
  </div>

  <!-- Optional: Plain-text question sources (easy to replace). One question per line. -->
  <script type="text/plain" id="sourceA">
Functional requirements define how a system should perform. | True | False
Non-functional requirements focus on how a system should perform. | True | False
Functional requirements are not static and can be adjusted via structured processes. | True | False
Change control is used in Agile to adjust the scope of functional requirements. | True | False
Backlog refinement is used in Agile to adjust functional requirements. | True | False
Performance, reliability, and security are examples of non-functional requirement aspects. | True | False
Portability and maintainability belong to Operational non-functional requirements. | True | False
Availability and reliability are part of Performance non-functional requirements. | True | False
Access control and encryption are examples of Security non-functional requirements. | True | False
Laws and government regulations are part of Cultural & Political requirements. | True | False
Problem Analysis focuses on understanding â€˜whyâ€™ before â€˜whatâ€™. | True | False
Root Cause Analysis focuses on symptoms rather than underlying issues. | True | False
Duration Analysis looks at time taken for process activities to find efficiency opportunities. | True | False
Activity-Based Costing includes indirect costs as well as direct costs. | True | False
Informal Benchmarking involves comparing processes with other businesses to improve. | True | False
Outcome Analysis ignores past results to avoid bias. | True | False
Technology Analysis examines current environment and trends to inform investments. | True | False
Activity Elimination targets nonâ€“value-adding activities to free resources. | True | False
Open communication helps prevent team conflict. | True | False
Effort estimation is not important for cost control. | True | False
Which process adjusts functional requirements in Waterfall? | Change Control | Backlog Refinement | Scope Creep | Kanban
Which non-functional category includes Availability? | Operational | Performance | Security | Cultural & Political
Which analysis strategy identifies inefficient code as the cause of performance issues? | Problem Analysis | Root Cause Analysis | Duration Analysis | Outcome Analysis
Which requirements gathering technique builds relationships with stakeholders? | Interviewing | Observation | Questionnaire | Document Analysis
Who defines requirements? | Project Manager | Developers | Business Analysts and Stakeholders | Customers only
What does WBS stand for? | Work Breakdown Structure | Workflow Business System | Work Balance Sheet | Work Budget Strategy
Which are the three trade-offs of effort estimation? | Scope, Time, Cost | Speed, Reliability, Security | Skills, Morale, Rewards | Availability, Portability, Maintainability
What is scope creep? | Adding new requirements after project starts | Breaking down project tasks | Visualizing workflow | Estimating costs
Which method visualizes work process and flow? | Kanban | WBS | Benchmarking | Shadowing
High morale indicates what? | Team has jelled | Scope creep | Poor communication | Cost control
Which requirements gathering technique provides a comprehensive understanding of system functionalities and business processes? | Interviewing | Observation | Questionnaire | Document Analysis
Which requirements analysis strategy involves looking at past results to guide future actions? | Outcome Analysis | Technology Analysis | Activity Elimination | Informal Benchmarking
Which non-functional category includes Portability? | Operational | Performance | Security | Cultural & Political
Which strategy involves analyzing the current technology environment and trends? | Problem Analysis | Technology Analysis | Duration Analysis | Activity-Based Costing
Which requirements gathering technique can scale to a large number of respondents? | Interviewing | Observation | Questionnaire | Shadowing
Which strategy involves identifying all costs associated with a business activity? | Activity-Based Costing | Root Cause Analysis | Outcome Analysis | Duration Analysis
Which non-functional category includes Virus Control? | Operational | Performance | Security | Cultural & Political
Which strategy involves comparing processes informally with other businesses? | Informal Benchmarking | Technology Analysis | Activity Elimination | Problem Analysis
Which requirements gathering technique ensures design is centered around user needs? | Interviewing | Observation | Questionnaire | Document Analysis
Which factor is important when forming a project team? | Member availability and skills | Scope creep | Kanban | High morale
  </script>
  <script type="text/plain" id="sourceB">
Define functional requirements and explain their purpose.
Define non-functional requirements and explain their focus.
How are functional requirements adjusted in scope during a project?
Name two structured processes used to adjust functional requirements.
List four aspects covered by non-functional requirements.
Which non-functional category includes Portability and Maintainability?
Which non-functional category includes Speed and Capacity?
Which non-functional category includes Access Control and Encryption?
Which non-functional category includes Laws and Government Regulations?
What is the goal of Problem Analysis in requirements analysis?
What is the goal of Root Cause Analysis?
What does Duration Analysis examine?
What does Activity-Based Costing include beyond direct costs?
What is Informal Benchmarking used for?
What is Outcome Analysis used for?
What is Technology Analysis used for?
What is Activity Elimination used for?
What is the main benefit of Interviewing as a requirements gathering technique?
What is the main benefit of Observation as a requirements gathering technique?
What is the main benefit of Questionnaires as a requirements gathering technique?
What is the main benefit of Document Analysis as a requirements gathering technique?
What is Shadowing used for in requirements gathering?
Who defines requirements in a project?
Who does the work after requirements are defined?
What does WBS stand for and what is its purpose?
What are the three trade-offs of effort estimation?
What is scope creep?
Why is open communication important in project teams?
Why are skill sets important when staffing a project team?
What does high morale indicate in a project team?
What is a possible team motivation strategy?
What does Kanban visualize?
Why is effort estimation critical for cost control?
What is an important consideration when forming a group project?
Why is rewards and recognition important for team motivation?
What does Kanban help visualize in project management?
Why is effort estimation critical for managing project costs?
What are two important considerations when forming a group project team?
Give an example of how Outcome Analysis might influence future software releases.
Explain how Activity Elimination can improve efficiency in a business process.
  </script>

 <!-- Test A -->
  <form id="testA" class="test">
    <h2>Test A</h2>
    <div class="progress" id="progressA" aria-live="polite">
      <div class="progress-track"><div class="progress-fill" id="progressFillA"></div></div>
      <div class="progress-text" id="progressTextA">1 / 20</div>
    </div>
    <!-- Questions are generated from #sourceA; static markup removed -->

    <div class="form-actions">
      <button type="button" id="btnPrevA" class="nav-btn">Prev</button>
      <button type="button" id="btnCheckA" class="nav-btn">Check</button>
      <button type="button" id="btnNextA" class="nav-btn">Next</button>
      <button type="button" id="btnSubmitA">Submit Test A</button>
      <button type="button" id="btnResetA">Reset Test A</button>
    </div>
  </form>

<!-- Test B -->
  <form id="testB" class="test hidden">
    <h2>Test B</h2>
    <div class="progress" id="progressB" aria-live="polite">
      <div class="progress-track"><div class="progress-fill" id="progressFillB"></div></div>
      <div class="progress-text" id="progressTextB">1 / 20</div>
    </div>
    <!-- Questions are generated from #sourceB; static markup removed -->

    <div class="form-actions">
      <button type="button" id="btnPrevB" class="nav-btn">Prev</button>
      <button type="button" id="btnCheckB" class="nav-btn">Check</button>
      <button type="button" id="btnNextB" class="nav-btn">Next</button>
      <button type="button" id="btnSubmitB">Submit Test B</button>
      <button type="button" id="btnResetB">Reset Test B</button>
    </div>
  </form>

  <!-- Results Page -->
  <div id="resultsPage" class="test hidden">
    <h2 id="resultsTitle">Test Results</h2>
    <div class="results-summary">
      <div class="score-display">
        <div class="score-number" id="scoreNumber">0/20</div>
        <div class="score-percentage" id="scorePercentage">0%</div>
      </div>
      <div class="results-message" id="resultsMessage"></div>
    </div>
    <div class="results-details" id="resultsDetails"></div>
    <div class="form-actions">
      <button type="button" id="btnBackToTests">Back to Tests</button>
      <button type="button" id="btnRetakeTest">Retake Test</button>
    </div>
  </div>
  <script>
const answers = {
  q1: "False | Functional = what the system must do; the how is non-functional.",
  q2: "True | Non-functional covers performance/quality attributes (how it performs).",
  q3: "True | Adjusted via structured processes balancing value, feasibility, constraints.",
  q4: "False | Waterfall uses change control; Agile uses backlog refinement.",
  q5: "True | Backlog refinement adjusts functional requirements in Agile.",
  q6: "True | Examples: performance, usability, reliability, security, maintainability.",
  q7: "True | Operational includes portability, maintainability, tech environment, integration.",
  q8: "True | Performance includes availability and reliability alongside speed, capacity.",
  q9: "True | Security includes access control, encryption/authentication, virus control.",
  q10: "True | Cultural & Political includes laws and government regulations.",
  q11: "True | Problem Analysis focuses on understanding why before what.",
  q12: "False | Root Cause Analysis seeks underlying causes, not just symptoms.",
  q13: "True | Duration Analysis examines time per activity to spot inefficiencies.",
  q14: "True | ABC includes indirect costs (utilities, rent, salaries, marketing).",
  q15: "True | Informal Benchmarking compares with other businesses to improve.",
  q16: "False | Outcome Analysis uses past results to inform future actions.",
  q17: "True | Technology Analysis examines environment and trends to guide investments.",
  q18: "True | Activity Elimination removes nonâ€“value-adding activities to free resources.",
  q19: "True | Open communication helps prevent team conflict.",
  q20: "False | Effort estimation is critical for controlling costs.",
  q21: "Change Control | Waterfall handles scope via formal change control.",
  q22: "Performance | Availability belongs to Performance (speed, capacity, reliability).",
  q23: "Root Cause Analysis | Identifies underlying causes like inefficient code.",
  q24: "Interviewing | Builds relationships while gathering requirements.",
  q25: "Business Analysts and Stakeholders | They define requirements; PMs/devs implement.",
  q26: "Work Breakdown Structure | Decomposes project into manageable components.",
  q27: "Scope, Time, Cost | The three trade-offs of estimation.",
  q28: "Adding new requirements after project starts | Definition of scope creep.",
  q29: "Kanban | Visualizes workflow and process.",
  q30: "Team has jelled | Indicates the team works well together.",
  q31: "Document Analysis | Provides comprehensive understanding of systems/processes.",
  q32: "Outcome Analysis | Uses past results to guide future actions.",
  q33: "Operational | Portability is part of Operational requirements.",
  q34: "Technology Analysis | Examines current environment and trends.",
  q35: "Questionnaire | Scales to large respondent groups.",
  q36: "Activity-Based Costing | Identifies direct and indirect costs.",
  q37: "Security | Virus control is part of Security.",
  q38: "Informal Benchmarking | Compares processes informally with other businesses.",
  q39: "Observation | Ensures design is centered around user needs.",
  q40: "Member availability and skills | Key factor when forming a project team.",
};
const shortAnswerKey = {
  q1: "Functional requirements define what a system must do, describing its core features and tasks.",
  q2: "Non-functional requirements focus on how the system performs, covering quality attributes like speed, security, and usability.",
  q3: "They are adjusted through structured processes such as change control (Waterfall) or backlog refinement (Agile).",
  q4: "Change control in Waterfall and backlog refinement in Agile.",
  q5: "Performance, usability, reliability, security, maintainability.",
  q6: "Operational â€” includes portability, maintainability, technical environment, and system integration.",
  q7: "Performance â€” includes speed, capacity, availability, reliability.",
  q8: "Security â€” includes system value, access control, encryption & authentication, virus control.",
  q9: "Cultural & Political â€” includes laws, government regulations, language differences, centralized vs local control.",
  q10: "Problem Analysis identifies and articulates the business problem, focusing on 'why' before 'what'.",
  q11: "Root Cause Analysis identifies underlying causes of problems rather than just symptoms.",
  q12: "Duration Analysis examines the time taken for activities to find efficiency opportunities.",
  q13: "Activity-Based Costing includes indirect costs like rent, utilities, salaries, and marketing in addition to direct costs.",
  q14: "Informal Benchmarking compares processes with other businesses to identify areas for improvement.",
  q15: "Outcome Analysis uses past results to guide future actions.",
  q16: "Technology Analysis examines current technology environment and trends to inform investment decisions.",
  q17: "Activity Elimination removes nonâ€“value-adding activities to free resources.",
  q18: "Interviewing provides in-depth understanding and builds relationships with stakeholders.",
  q19: "Observation provides real-world understanding of user behavior and reduces miscommunication.",
  q20: "Questionnaires scale to large groups, provide quantitative data, and allow anonymity.",
  q21: "Document Analysis provides comprehensive understanding of systems and identifies gaps efficiently.",
  q22: "Shadowing involves following users to observe their work and uncover implicit requirements.",
  q23: "Business analysts and stakeholders define requirements.",
  q24: "Project managers and developers do the work after requirements are defined.",
  q25: "Work Breakdown Structure â€” decomposes a project into smaller components for clarity and scope management.",
  q26: "Scope, Time, Cost â€” the three trade-offs of effort estimation.",
  q27: "Scope creep is adding new requirements after a project has started.",
  q28: "Open communication prevents team conflict and supports collaboration.",
  q29: "Skill sets ensure the team has the right expertise for tasks.",
  q30: "High morale indicates the team has 'jelled' and is working well together.",
  q31: "Rewards and recognition motivate teams and improve performance.",
  q32: "Kanban visualizes work processes and flow.",
  q33: "Effort estimation is critical for cost control because it predicts resource needs and expenses.",
  q34: "Member availability and skills are important considerations when forming a group project.",
  q35: "Rewards and recognition encourage motivation, engagement, and sustained performance.",
  q36: "Kanban helps visualize workflow, bottlenecks, and task progress.",
  q37: "Effort estimation ensures accurate budgeting and prevents overspending.",
  q38: "Member availability and skills â€” ensures tasks are covered and team balance is maintained.",
  q39: "Outcome Analysis might lead to more thorough testing if past releases caused support issues.",
  q40: "Activity Elimination improves efficiency by removing tasks that add no value, freeing resources for useful work."
};

    function toggleTest(test) {
      document.getElementById('testA').classList.add('hidden');
      document.getElementById('testB').classList.add('hidden');
      document.getElementById('test' + test).classList.remove('hidden');
    }

    function submitTest(test) {
      const form = document.getElementById('test' + test);
      if (!form) return;
      const questions = form.querySelectorAll('.question');
      let correctCount = 0;
      let totalCount = questions.length;
      const details = [];

      questions.forEach((q, idx) => {
        const firstInput = q.querySelector('input');
        const inputName = firstInput ? firstInput.name : null;
        const questionText = q.querySelector('p')?.textContent || `Question ${idx+1}`;
        const rawAnswer = inputName ? (test === 'B' ? shortAnswerKey[inputName] : answers[inputName]) : null;
        const correctAnswer = rawAnswer ? String(rawAnswer).split('|')[0].trim() : null;
        let explanation = '';
        if (rawAnswer) {
          const parts = String(rawAnswer).split('|');
          explanation = parts.length > 1 ? parts.slice(1).join('|').trim() : (test === 'B' ? String(rawAnswer).trim() : '');
        }
        let userAnswer = "";
        let isCorrect = false;

        if (q.querySelector('input[type="radio"]')) {
          const selected = q.querySelector('input[type="radio"]:checked');
          if (selected) userAnswer = selected.value;
          isCorrect = userAnswer === correctAnswer;
        } else {
          const textInput = q.querySelector('input[type="text"]');
          userAnswer = textInput ? textInput.value.trim() : "";
          isCorrect = userAnswer.toLowerCase() === (correctAnswer || '').toLowerCase();
        }

        if (isCorrect) correctCount++;
        details.push({
          num: idx + 1,
          question: questionText,
          userAnswer: userAnswer || '(no answer)',
          correctAnswer: correctAnswer,
          explanation: explanation,
          isCorrect: isCorrect
        });
      });

      showResults(test, correctCount, totalCount, details);
    }

    function resetForm(test) {
      const form = document.getElementById('test' + test);
      if (!form) return;
      form.reset();
      // hide and clear answer boxes
      const answersEls = form.querySelectorAll('.answer');
      answersEls.forEach(a => {
        a.classList.add('hidden');
        a.textContent = '';
        a.style.display = 'none';
      });
    }

    let lastTest = 'A';
    function showResults(test, correctCount, totalCount, details) {
      lastTest = test;
      // Hide tests, show results
      document.getElementById('testA').classList.add('hidden');
      document.getElementById('testB').classList.add('hidden');
      document.getElementById('resultsPage').classList.remove('hidden');

      // Update title
      document.getElementById('resultsTitle').textContent = `Test ${test} Results`;

      // Calculate percentage
      const percentage = Math.round((correctCount / totalCount) * 100);

      // Update score display
      document.getElementById('scoreNumber').textContent = `${correctCount}/${totalCount}`;
      document.getElementById('scorePercentage').textContent = `${percentage}%`;

      // Set message based on score
      const messageEl = document.getElementById('resultsMessage');
      if (percentage >= 90) {
        messageEl.textContent = 'Excellent work! ðŸŽ‰';
        messageEl.style.color = '#2ecc71';
      } else if (percentage >= 80) {
        messageEl.textContent = 'Great job! ðŸ‘';
        messageEl.style.color = '#27ae60';
      } else if (percentage >= 70) {
        messageEl.textContent = 'Good effort! ðŸ’ª';
        messageEl.style.color = '#f39c12';
      } else if (percentage >= 60) {
        messageEl.textContent = 'Keep practicing! ðŸ“š';
        messageEl.style.color = '#e67e22';
      } else {
        messageEl.textContent = 'Review and try again! ðŸ“–';
        messageEl.style.color = '#e74c3c';
      }

      // Build detailed results
      const detailsEl = document.getElementById('resultsDetails');
      let detailsHtml = '<h3>Question Review</h3>';
      details.forEach(d => {
        const icon = d.isCorrect ? 'âœ“' : 'âœ—';
        const statusClass = d.isCorrect ? 'correct' : 'incorrect';
        detailsHtml += `
          <div class="result-item ${statusClass}">
            <div class="result-header">
              <span class="result-icon">${icon}</span>
              <span class="result-num">Question ${d.num}</span>
            </div>
            <div class="result-question">${d.question}</div>
            <div class="result-answer">Your answer: <strong>${d.userAnswer}</strong></div>
            ${!d.isCorrect ? `<div class="result-correct">Correct answer: <strong>${d.correctAnswer}</strong></div>` : ''}
            ${d.explanation ? `<div class="result-explanation">${d.explanation}</div>` : ''}
          </div>
        `;
      });
      detailsEl.innerHTML = detailsHtml;
    }

    // Attach event listeners to buttons (replace inline onclicks)
    document.addEventListener('DOMContentLoaded', function() {
      // Factory functions to build question HTML
      function createTFQuestion(qId, text){
        return `\n<div class="question">\n  <p>${text}</p>\n  <label><input type="radio" name="${qId}" value="True"> True</label>\n  <label><input type="radio" name="${qId}" value="False"> False</label>\n  <div class="answer hidden" id="ans-${qId}"></div>\n</div>`;
      }
      function createMCQuestion(qId, text, options){
        const optionsHtml = options.map(val => `  <label><input type="radio" name="${qId}" value="${val}"> ${val}</label>`).join('\n');
        return `\n<div class="question">\n  <p>${text}</p>\n${optionsHtml}\n  <div class="answer hidden" id="ans-${qId}"></div>\n</div>`;
      }
      function createShortQuestion(qId, text){
        return `\n<div class="question">\n  <p>${text}</p>\n  <input type="text" name="${qId}" style="width:100%">\n  <div class="answer hidden" id="ans-${qId}"></div>\n</div>`;
      }
            // If plain-text sources exist, render questions from them for easy editing
            function renderFromPlainText(formId, sourceId, type){
              const sourceEl = document.getElementById(sourceId);
              const form = document.getElementById(formId);
              if (!sourceEl || !form) return false;
              const raw = (sourceEl.textContent || '').trim();
              if (!raw) return false;
              const lines = raw.split(/\r?\n/).map(s => s.trim()).filter(Boolean);
              if (!lines.length) return false;
              // Preserve header, progress, actions
              const headerHtml = form.querySelector('h2')?.outerHTML || '';
              const progressHtml = form.querySelector('.progress')?.outerHTML || '';
              const actionsEl = form.querySelector('.form-actions');
              let html = `${headerHtml}\n${progressHtml}`;
              lines.forEach((text, i) => {
                const qId = `q${i+1}`;
                if (type === 'choice'){
                  const parts = text.split('|').map(s => s.trim()).filter(Boolean);
                  const questionText = parts[0] || text;
                  // Support explicit correct answer via suffix like "Correct=Option" or "Answer=Option"
                  let explicitCorrect = null;
                  const last = parts[parts.length - 1] || '';
                  const match = last.match(/^(Correct|Answer)\s*[:=]\s*(.+)$/i);
                  if (match) {
                    explicitCorrect = match[2].trim();
                  }
                  const optsRaw = parts.slice(1, match ? parts.length - 1 : parts.length);
                  const opts = optsRaw.length ? optsRaw : ['True','False'];
                  html += opts.length === 2 && opts[0]==='True' && opts[1]==='False'
                    ? createTFQuestion(qId, questionText)
                    : createMCQuestion(qId, questionText, opts);
                  // If we have an explicit correct answer, set it in the global answers map
                  if (explicitCorrect) {
                    answers[qId] = explicitCorrect;
                  }
                } else {
                  // Support explicit short answer via suffix "Correct=..." or "Answer=..."
                  let questionText = text;
                  const m = text.match(/^(.*?)(?:\s+(Correct|Answer)\s*[:=]\s*(.+))$/i);
                  if (m) {
                    questionText = m[1].trim();
                    const ans = (m[3] || '').trim();
                    if (ans) shortAnswerKey[qId] = ans;
                  }
                  html += createShortQuestion(qId, questionText);
                }
              });
              html += `\n${actionsEl ? actionsEl.outerHTML : ''}`;
              form.innerHTML = html;
              return true;
            }

            // Try to render from text sources; fallback to existing markup if not present
            // If sourceA is empty, extract Test A questions from existing HTML and collapse markup
            function migrateTestAIfNeeded(){
              const srcA = document.getElementById('sourceA');
              if (!srcA) return;
              const hasContent = (srcA.textContent||'').trim().length > 0;
              if (hasContent) return;
              const formA = document.getElementById('testA');
              if (!formA) return;
              const qEls = Array.from(formA.querySelectorAll('.question'));
              if (!qEls.length) return;
              const lines = qEls.map(q => {
                const text = (q.querySelector('p')?.textContent || '').replace(/^\s*\d+\.?\s*/, '').trim();
                const radios = Array.from(q.querySelectorAll('input[type="radio"]'));
                if (radios.length){
                  const opts = radios.map(r => (r.value||'').trim());
                  return [text, ...opts].join(' | ');
                } else {
                  return text;
                }
              });
              srcA.textContent = lines.join('\n');
            }
            migrateTestAIfNeeded();
            // Minimize both forms, then render from sources to remove static markup
            (function(){
              const formIds = ['testA','testB'];
              formIds.forEach(fid => {
                const form = document.getElementById(fid);
                if (!form) return;
                const headerHtml = form.querySelector('h2')?.outerHTML || '';
                const progressHtml = form.querySelector('.progress')?.outerHTML || '';
                const actionsHtml = form.querySelector('.form-actions')?.outerHTML || '';
                form.innerHTML = `${headerHtml}\n${progressHtml}\n${actionsHtml}`;
              });
            })();
            renderFromPlainText('testA','sourceA','choice');
            renderFromPlainText('testB','sourceB','text');
      
      // Use event delegation on document to catch all button clicks
      document.addEventListener('click', function(e) {
        const target = e.target;
        
        if (target.id === 'btnSubmitA' || target.closest('#btnSubmitA')) {
          e.preventDefault();
          e.stopPropagation();
          submitTest('A');
          return false;
        }
        
        if (target.id === 'btnSubmitB' || target.closest('#btnSubmitB')) {
          e.preventDefault();
          e.stopPropagation();
          submitTest('B');
          return false;
        }
        
        if (target.id === 'btnResetA' || target.closest('#btnResetA')) {
          e.preventDefault();
          resetForm('A');
          return false;
        }
        
        if (target.id === 'btnResetB' || target.closest('#btnResetB')) {
          e.preventDefault();
          resetForm('B');
          return false;
        }
      }, true); // Use capture phase
      
      const btnShowA = document.getElementById('btnShowA');
      if (btnShowA) btnShowA.addEventListener('click', function() { toggleTest('A'); });
      const btnShowB = document.getElementById('btnShowB');
      if (btnShowB) btnShowB.addEventListener('click', function() { toggleTest('B'); });
      // Results page buttons
      const btnBackToTests = document.getElementById('btnBackToTests');
      if (btnBackToTests) btnBackToTests.addEventListener('click', function() {
        document.getElementById('resultsPage').classList.add('hidden');
        toggleTest(lastTest);
      });
      const btnRetakeTest = document.getElementById('btnRetakeTest');
      if (btnRetakeTest) btnRetakeTest.addEventListener('click', function() {
        resetForm(lastTest);
        document.getElementById('resultsPage').classList.add('hidden');
        toggleTest(lastTest);
        const formId = 'test' + lastTest;
        currentIndex[formId] = 0;
        showQuestion(formId, 0);
      });

      // (Removed) JSON import/export helpers and buttons
      // (Removed) Regenerate buttons and functions

      // After rendering from sources, remove any leftover original question markup to reduce DOM size
      function stripOriginalQuestions(formId){
        const form = document.getElementById(formId);
        if (!form) return;
        Array.from(form.querySelectorAll('.question')).forEach(q => q.remove());
        // Re-render from source again to ensure questions exist
        if (formId === 'testA') renderFromPlainText('testA','sourceA','choice');
        if (formId === 'testB') renderFromPlainText('testB','sourceB','text');
      }
      stripOriginalQuestions('testA');

      // Paging: show one question at a time per form
      const currentIndex = { testA: 0, testB: 0 };
      const autoAdvance = false; // auto-advance disabled: user must press Next to continue

      function showQuestion(formId, index){
        const form = document.getElementById(formId);
        if (!form) return;
        const questions = Array.from(form.querySelectorAll('.question'));
        const total = questions.length;
        if (!total) return;
        if (index < 0) index = 0;
        if (index >= total) index = total - 1;
        currentIndex[formId] = index;
        questions.forEach((q,i) => q.style.display = (i === index ? '' : 'none'));
        const prev = document.getElementById(formId === 'testA' ? 'btnPrevA' : 'btnPrevB');
        const next = document.getElementById(formId === 'testA' ? 'btnNextA' : 'btnNextB');
        const check = document.getElementById(formId === 'testA' ? 'btnCheckA' : 'btnCheckB');
        const isLast = index === total - 1;
        if (prev) { prev.disabled = index === 0; prev.onclick = function(){ prevQuestion(formId); }; }
        if (next) {
          next.textContent = 'Next';
          next.onclick = function(){ nextQuestion(formId); };
          next.disabled = isLast;
        }
        if (check) { check.style.display = isLast ? 'none' : ''; check.onclick = function(){ checkQuestion(formId); }; }
        const submitBtn = document.getElementById(formId === 'testA' ? 'btnSubmitA' : 'btnSubmitB');
        const resetBtn = document.getElementById(formId === 'testA' ? 'btnResetA' : 'btnResetB');
        if (submitBtn) {
          submitBtn.style.display = isLast ? '' : 'none';
          submitBtn.disabled = false;
        }
        if (resetBtn) resetBtn.style.display = isLast ? '' : 'none';
        // progress bar
        const isA = formId === 'testA';
        const progressFill = isA ? document.getElementById('progressFillA') : document.getElementById('progressFillB');
        const progressText = isA ? document.getElementById('progressTextA') : document.getElementById('progressTextB');
        const pct = total > 0 ? Math.round(((index+1)/total) * 100) : 0;
        if (progressFill) progressFill.style.width = pct + '%';
        if (progressText) progressText.textContent = `${index+1} / ${total}`;
      }

      function prevQuestion(formId) {
        const idx = currentIndex[formId];
        const newIdx = Math.max(0, idx - 1);
        showQuestion(formId, newIdx);
      }

      function nextQuestion(formId) {
        const form = document.getElementById(formId);
        const questions = Array.from(form.querySelectorAll('.question'));
        const idx = currentIndex[formId];
        const newIdx = Math.min(questions.length - 1, idx + 1);
        showQuestion(formId, newIdx);
      }

      function checkQuestion(formId) {
        // Validate the current question and show feedback without changing question
        const form = document.getElementById(formId);
        const idx = currentIndex[formId];
        const questions = Array.from(form.querySelectorAll('.question'));
        const q = questions[idx];
        if (!q) return;
        const ansDiv = q.querySelector('.answer');
        const firstInput = q.querySelector('input');
        const inputName = firstInput ? firstInput.name : null;
        const rawAnswer = formId === 'testB' ? shortAnswerKey[inputName] : answers[inputName];
        const correctAnswer = rawAnswer ? String(rawAnswer).split('|')[0].trim() : null;
        let explanation = '';
        if (rawAnswer) {
          const parts = String(rawAnswer).split('|');
          explanation = parts.length > 1 ? parts.slice(1).join('|').trim() : (formId === 'testB' ? String(rawAnswer).trim() : '');
        }

        if (q.querySelector('input[type="radio"]')) {
          const selected = q.querySelector('input[type="radio"]:checked');
          const userAnswer = selected ? selected.value : '';
          if (userAnswer === correctAnswer) {
            if (ansDiv) {
              ansDiv.textContent = "Correct! Answer: " + correctAnswer + (explanation ? " â€” " + explanation : "");
              ansDiv.className = "answer correct";
              ansDiv.classList.remove('hidden'); ansDiv.style.display = 'block';
            }
          } else {
            if (ansDiv) {
              ansDiv.textContent = "Incorrect. Correct Answer: " + (correctAnswer || "") + (explanation ? " â€” " + explanation : "");
              ansDiv.className = "answer incorrect";
              ansDiv.classList.remove('hidden'); ansDiv.style.display = 'block';
            }
          }
        } else {
          const textInput = q.querySelector('input[type="text"]');
          const userText = textInput ? textInput.value.trim() : '';
          if (userText && userText.toLowerCase() === (correctAnswer || '').toLowerCase()) {
            if (ansDiv) {
              ansDiv.textContent = "Correct!";
              ansDiv.className = "answer correct";
              ansDiv.classList.remove('hidden'); ansDiv.style.display = 'block';
            }
          } else {
            if (ansDiv) {
              ansDiv.textContent = "Suggested Answer: " + (correctAnswer || "") + (explanation ? " â€” " + explanation : "");
              ansDiv.className = "answer incorrect";
              ansDiv.classList.remove('hidden'); ansDiv.style.display = 'block';
            }
          }
        }
      }

      function initPaging() {
        ['testA','testB'].forEach(id => {
          const form = document.getElementById(id);
          if (!form) return;
          let questions = Array.from(form.querySelectorAll('.question'));
          // 1) Strip leading numbers from question text (e.g., "1. ")
          questions.forEach(q => {
            const p = q.querySelector('p');
            if (p) p.textContent = (p.textContent || '').replace(/^\s*\d+\.?\s*/, '');
          });
          // 2) Randomize and select a subset of 20 questions (out of up to 40)
          const shuffled = questions.map(q => ({ q, sort: Math.random() }))
                                    .sort((a,b) => a.sort - b.sort)
                                    .map(({q}) => q);
          const subset = shuffled.slice(0, 20);
          const actions = form.querySelector('.form-actions');
          // Remove non-selected questions from DOM
          questions.forEach(q => { if (!subset.includes(q)) q.remove(); });
          // Append selected in chosen order
          subset.forEach(q => form.insertBefore(q, actions));
          // hide all initially
          subset.forEach(q => q.style.display = 'none');
          // show first
          showQuestion(id, 0);
          // Keyboard shortcuts: N for Next, C for Check, Enter -> Check
          form.addEventListener('keydown', function(ev){
            const key = ev.key.toLowerCase();
            if (key === 'n') { ev.preventDefault(); nextQuestion(id); }
            if (key === 'c') { ev.preventDefault(); checkQuestion(id); }
            if (key === 'enter'){
              const active = document.activeElement;
              if (active && (active.tagName === 'INPUT' || active.tagName === 'TEXTAREA')){
                ev.preventDefault();
                // keep Enter mapped to Check for quick validation
                checkQuestion(id);
              }
            }
          });
        });
      }

      // Remove show-answer buttons since we validate/correct before advancing
      document.querySelectorAll('.show-answer-btn').forEach(b => b.remove());

      initPaging();

      // Ensure the translucent backdrop covers the full page height (not just the viewport)
      const backdrop = document.querySelector('.card-backdrop');
      const page = document.querySelector('.page');
      function updateBackdrop(){
        if (!backdrop || !page) return;
        const rect = page.getBoundingClientRect();
        // page offset relative to document
        const pageTop = page.offsetTop;
        backdrop.style.position = 'absolute';
        backdrop.style.left = (rect.left + window.pageXOffset) + 'px';
        backdrop.style.top = pageTop + 'px';
        backdrop.style.width = rect.width + 'px';
        backdrop.style.height = page.offsetHeight + 'px';
        backdrop.style.transform = 'none';
      }
      updateBackdrop();
      window.addEventListener('resize', updateBackdrop);
      // also update after a short delay in case fonts/images change layout
      setTimeout(updateBackdrop, 500);
      // Watch for layout changes (content added/removed) and update backdrop
      const observer = new MutationObserver(updateBackdrop);
      observer.observe(page, { childList: true, subtree: true });
    });
  </script>
  </div>
</body>
</html>
